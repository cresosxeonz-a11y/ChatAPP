<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>Chautara</title>
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="./login.css">
    <link rel="stylesheet" href="./chat.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="images/Chautari_nobg.png" />
</head>

<body>

    <!-- Login page -->
    <div class="login-page" id="login-page">
        <div class="bg-container">
            <img src="images/chautara.jpg" alt="Background Image">
        </div>

        <div class="container">

            <!-- Login page form -->
            <div class="form-box login">
                <form id="login-form" action="">
                    <h1>Login</h1>

                    <div class="input-box">
                        <input type="email" placeholder="Email" required>
                        <i class='bx bxs-user'></i>
                    </div>

                    <div class="input-box">
                        <input type="password" placeholder="Password" required>
                        <i class='bx bxs-lock-alt'></i>
                    </div>

                    <div class="forgot-link">
                        <a href="#">Forgot password?</a>
                    </div>

                    <button type="submit" class="btn">Login</button>

                    <p>or login with social media platform</p>

                    <div class="social-icons">
                        <!-- Google login button -->
                        <i class='bx bxl-google'></i>
                        <button type="button" id="google-login-btn" class="btn social-btn">
                            Login with Google
                        </button>
                    </div>
                </form>
            </div>

            <!-- Register page form -->
            <div class="form-box register">
                <form id="register-form" action="">
                    <h1>Registration</h1>

                    <div class="input-box">
                        <input type="text" placeholder="Username" required>
                        <i class='bx bxs-user'></i>
                    </div>

                    <div class="input-box">
                        <input type="email" placeholder="Email" required>
                        <i class='bx bxs-envelope'></i>
                    </div>

                    <div class="input-box">
                        <input type="password" placeholder="Password" required>
                        <i class='bx bxs-lock-alt'></i>
                    </div>

                    <button type="submit" class="btn">Register</button>

                    <p>or register with social media platform</p>

                    <div class="social-icons">
                        <!-- Google register button -->
                        <i class='bx bxl-google'></i>
                        <button type="button" id="google-register-btn" class="btn social-btn">
                            Register with Google
                        </button>
                    </div>
                </form>
            </div>

            <!-- Toggle panels -->
            <div class="toggle-box">
                <div class="toggle-panel toggle-left">
                    <div class="logo-container">
                        <img src="images/Chautari_nobg.png" alt="Chautara Logo">
                    </div>
                    <h1>Hello, Welcome</h1>
                    <p>Don't have an account?</p>
                    <button class="btn register-btn">Register</button>
                </div>

                <div class="toggle-panel toggle-right">
                    <div class="logo-container">
                        <img src="images/Chautari_nobg.png" alt="Chautara Logo">
                    </div>
                    <h1>Welcome Back!</h1>
                    <p>Already have an account?</p>
                    <button class="btn login-btn">Login</button>
                </div>
            </div>

        </div>
    </div>


    <!-- USERNAME SETUP MODAL -->
    <div id="username-modal" style="position:fixed; inset:0; background:rgba(0,0,0,0.5); z-index:9999;">
        <div class="modal-card"
            style="margin:0 auto; padding:24px; background:#fff; border-radius:8px; width:320px; box-shadow:0 6px 18px rgba(0,0,0,0.2); margin-top:8vh;">
            <h2 style="margin-top:0">Choose a username</h2>
            <p style="margin:6px 0 12px 0; font-size:13px; color:#444">This will be your public name on Chautara.
                Lowercase letters, numbers, underscores allowed.</p>
            <input id="username-input" type="text" placeholder="username"
                style="width:100%; padding:8px; font-size:16px; margin-bottom:8px; box-sizing:border-box;">
            <div style="display:flex; gap:8px;">
                <button id="username-save-btn" class="btn" style="flex:1">Save</button>
                <button id="username-cancel-btn" class="btn" style="flex:1; background:#eee; color:#111">Cancel</button>
            </div>
            <p id="username-error" style="color:#b00020; font-size:13px; margin-top:8px; min-height:18px;"></p>
        </div>
    </div>

    <!-- Chat System -->
    <div class="chat-system" id="chat-system" style="display:none">
        <div class="top-section" style="position:relative;">
            <h1>Chautara</h1>
            <button id="logout-btn" style="position:absolute; right:16px; top:12px; padding:8px 12px;">Logout</button>
        </div>
        <div class="bottom-section">
            <div class="left-bar">
                <div class="left-top">
                    <div class="group-section">
                        <div class="logo-icon">
                            <img src="images/Chautari_nobg.png" alt="logo">
                        </div>
                    </div>
                    <div class="friend-section"></div>
                </div>
                <div class="left-bottom">
                    <div class="profile-info"></div>
                </div>
            </div>
            <div class="right-bar">
                <div class="right-top"></div>
                <div class="right-bottom">
                    <div class="chat-section"></div>
                    <div class="online-section"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Single combined JS file (firebase + handlers) -->
    <script src="./login.js" type="module"></script>
</body>

</html>